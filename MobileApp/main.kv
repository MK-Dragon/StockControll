<LoginScreen>
    container: container
    user_field: user_field
    pw_field: pw_field
    url_field: url_field

    BoxLayout:
	    orientation: 'vertical'
        size: root.width, root.height
        padding: 2

        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height
            padding: 4
            spacing: "30dp"
            id: container

            # TODO: Add logo here
            Label:
                text: "App Logo\nPlaceHolder\n; )"
                color: (0,0,0,1)

            # TODO: Needs some UI / UX changes for Final product!!
            MDTextField:
                size_hint_x: None
                id: url_field
                hint_text: "Server URL"
                multiline: False
                icon_left: "server-network"
                mode: "rectangle"
                background_color: app.theme_cls.bg_normal
                width: root.width*0.75 #"300dp"
                pos_hint: {"center_y": .5}
                pos_hint: {"center_x": .5}

            MDTextField:
                size_hint_x: None
                id: user_field
                hint_text: "Username"
                multiline: False
                icon_left: "account"
                mode: "rectangle"
                background_color: app.theme_cls.bg_normal
                width: root.width*0.75 #"300dp"
                pos_hint: {"center_y": .5}
                pos_hint: {"center_x": .5}

            MDTextField:
                size_hint_x: None
                id: pw_field
                hint_text: "Password"
                multiline: False
                password: True
                icon_left: "key-variant"
                mode: "rectangle"
                background_color: app.theme_cls.bg_normal
                width: root.width*0.75 #"300dp"
                pos_hint: {"center_y": .5}
                pos_hint: {"center_x": .5}


        FloatLayout:
            orientation: 'vertical'
            size: root.width, root.height
            padding: 2

            MDRectangleFlatIconButton:
                text: "Login"
                font_size: "20sp"
                theme_text_color: "Custom"
                text_color: "white"
                #line_color: "black"
                theme_icon_color: "Custom"
                icon_color: "white"
                icon: "duck"
                md_bg_color: app.theme_cls.primary_color
                on_release:
                    root.button_login()
                pos_hint: {"center_x": .5, "center_y": .25}
                elevation: 1



<MainScreen>
    container_notifications: container_notifications
    container_storage: container_storage
    container_restock_entries: container_restock_entries
    container_delivery_entries: container_delivery_entries

    BoxLayout:
	    cols: 1
	    orientation: 'vertical'
        size: root.width, root.height
        padding: 2

        MDTopAppBar:
            id: reload_btn_icon
            title: "Stock Control"
            elevation: 1
            #md_bg_color: app.THEME_pri #app.theme_cls.accent_color
            left_action_items:[["earth"]] #["menu"],
            right_action_items: [["account", lambda x: root.button_go_to_login_screen()], ["reload", lambda x: root.button_reload()]]

        MDBottomNavigation:
            #panel_color: app.theme_cls.primary_color #app.THEME_pri #"orange"
            selected_color_background: '#b6c5cf' #app.theme_cls.primary_color #app.THEME_acc #'#0080ff' # '#2874ff'
            text_color_active: app.theme_cls.primary_color #app.THEME_sec #(.1, .1 , .3, 1)

            MDBottomNavigationItem:
                name: 'screen 1'
                text: 'Main Menu'
                icon: 'notebook-edit'
                #badge_icon: "numeric-1"

                BoxLayout:
                    orientation: 'vertical'
                    size: root.width, root.height
                    padding: 2
                    spacing: "20dp"

                    MDScrollView:
                        MDList:
                            id: container_notifications
                            adaptive_height: True

                    YourContainer:
                        spacing: "15dp"
                        padding: 10

                        # Spacer to align left
                        Label:
                            text: ""
                            color: (0,0,0,0)

                        #MDFloatingActionButton:
                        MDRectangleFlatIconButton:
                            icon: "locker"
                            icon_color: 'white'
                            text: "Restock"
                            theme_text_color: "Custom"
                            text_color: "white"
                            md_bg_color: app.theme_cls.primary_color
                            on_release:
                                root.button_go_to_restock()
                            pos_hint: {"center_x": .9, "center_y": .1}
                            elevation: 1

                        #MDFloatingActionButton:
                        MDRectangleFlatIconButton:
                            text: 'Deliver Item'
                            theme_text_color: "Custom"
                            text_color: "white"
                            icon_color: 'white'
                            icon: "account-arrow-left"
                            md_bg_color: app.theme_cls.primary_color
                            on_release:
                                root.button_go_to_add_entry()
                            pos_hint: {"center_x": .9, "center_y": .1}
                            elevation: 1

                        # Spacer to align left
                        Label:
                            text: ""
                            color: (0,0,0,0)

            MDBottomNavigationItem:
                name: 'screen 2'
                text: 'Storage'
                icon: 'locker'
                #badge_icon: "numeric-1"

                BoxLayout:
                    orientation: 'vertical'
                    size: root.width, root.height
                    padding: 2
                    spacing: "20dp"

                    Label:
                        text: "Storage Stock"
                        font_size: '20sp'
                        color: 'blue' #(0,0,0,0)
                        size_hint_y: 0.1

                    # Sort by:
                    BoxLayout:
                        spacing: "15dp"
                        padding: 10
                        size_hint_y: 0.1

                        # Spacer to align left
                        Label:
                            text: ""
                            color: (0,0,0,0)

                        MDRectangleFlatIconButton:
                            icon: "pen"
                            icon_color: 'white'
                            text: "Sort by Item"
                            theme_text_color: "Custom"
                            text_color: "white"
                            md_bg_color: '#b6c5cf' #app.theme_cls.primary_color
                            on_release:
                                root.button_go_to_restock()
                            elevation: 1

                        MDRectangleFlatIconButton:
                            text: 'Sort by Storage'
                            theme_text_color: "Custom"
                            text_color: "white"
                            icon_color: 'white'
                            icon: "locker"
                            md_bg_color: '#b6c5cf' #app.theme_cls.primary_color
                            on_release:
                                root.button_go_to_add_entry()
                            elevation: 1

                        # Spacer to align left
                        Label:
                            text: ""
                            color: (0,0,0,0)

                    MDScrollView:
                        MDList:
                            adaptive_height: True
                            id: container_storage
                            spacing: "10dp"

            MDBottomNavigationItem:
                name: 'screen 3'
                text: 'Restock Entries'
                icon: 'import'
                #badge_icon: "numeric-1"

                BoxLayout:
                    orientation: 'vertical'
                    size: root.width, root.height
                    padding: 2
                    spacing: "20dp"

                    Label:
                        text: "Restock Entries"
                        font_size: '20sp'
                        color: 'blue' #(0,0,0,0)
                        size_hint_y: 0.1

                    MDScrollView:
                        MDList:
                            id: container_restock_entries

            MDBottomNavigationItem:
                name: 'screen 4'
                text: 'Delivery Entries'
                icon: 'export'
                #badge_icon: "notebook-edit-outline"

                BoxLayout:
                    cols: 1
                    orientation: 'vertical'
                    size: root.width, root.height
                    padding: 2
                    spacing: "20dp"

                    Label:
                        text: "Delivery Entries"
                        font_size: '20sp'
                        color: 'blue' #(0,0,0,0)
                        size_hint_y: 0.1

                    MDScrollView:
                        MDList:
                            id: container_delivery_entries






<DeliverItem>
    container2: container2

    BoxLayout:
	    orientation: 'vertical'
        size: root.width, root.height
        padding: 2

        MDTopAppBar:
            id: reload_btn_icon
            title: "Deliver Item"
            elevation: 1
            #md_bg_color: app.THEME_pri #app.theme_cls.accent_color
            left_action_items: [["arrow-left-bold-circle-outline", lambda x: root.button_cancel()]]
            #right_action_items: [["dice-d20-outline", lambda x: root.button_reload()]]

        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height
            padding: 2

            MDList:
                id: container2

            TwoLineAvatarIconListItem:
                text: "how many??"
                secondary_text: root.label_num_items
                id: num_items
                on_size:
                    self.ids._right_container.width = container.width
                    self.ids._right_container.x = container.width

                IconLeftWidget:
                    icon: "sort-numeric-variant"

                YourContainer:
                    id: container

                    MDIconButton:
                        icon: "plus"
                        on_release:
                            root.button_plus()

                    MDIconButton:
                        icon: "minus"
                        on_release:
                            root.button_minus()

        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height
            padding: 2

            MDRectangleFlatIconButton:
                text: "Submit"
                font_size: "20sp"
                theme_text_color: "Custom"
                text_color: "white"
                #line_color: "black"
                theme_icon_color: "Custom"
                icon_color: "white"
                icon: "duck"
                md_bg_color: app.theme_cls.primary_color
                on_release:
                    root.button_submit()
                    app.main_screen.button_reload()
                pos_hint: {"center_x": .8, "center_y": .1}
                elevation: 1


<ReStock>
    container2: container2
    number_of_items: number_of_items

    BoxLayout:
	    orientation: 'vertical'
        size: root.width, root.height
        padding: 2

        MDTopAppBar:
            id: reload_btn_icon
            title: "Restock"
            elevation: 1
            #md_bg_color: app.THEME_pri #app.theme_cls.accent_color
            left_action_items: [["arrow-left-bold-circle-outline", lambda x: root.button_cancel()]]
            #right_action_items: [["dice-d20-outline", lambda x: root.button_reload()]]

        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height
            padding: 2

            MDList:
                id: container2

            BoxLayout:
                size: root.width, root.height

                MDTextField:
                    size_hint_x: None
                    id: number_of_items
                    hint_text: "Number of Items"
                    multiline: True
                    icon_left: "sort-numeric-variant"
                    mode: "rectangle"
                    background_color: app.theme_cls.bg_normal
                    width: root.width*0.60 #"300dp"
                    pos_hint: {"center_y": .5}
                    pos_hint: {"center_x": .3}
                    max_text_length: 4

                Label:
                    text: ""
                    color: (0,0,0,0)

                MDIconButton:
                    icon: "plus"
                    on_release:
                        root.button_plus()

                MDIconButton:
                    icon: "minus"
                    on_release:
                        root.button_minus()



        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height
            padding: 2

            MDRectangleFlatIconButton:
                text: "Submit"
                font_size: "20sp"
                theme_text_color: "Custom"
                text_color: "white"
                #line_color: "black"
                theme_icon_color: "Custom"
                icon_color: "white"
                icon: "duck"
                md_bg_color: app.theme_cls.primary_color
                on_release:
                    root.button_submit()
                    app.main_screen.button_reload()
                pos_hint: {"center_x": .8, "center_y": .2}
                elevation: 1



# Custom widgets:

<PopupError>
    container: container

    BoxLayout:
        orientation: "vertical"
        spacing: "12dp"
        size_hint_y: None
        id: container

        MDLabel:
            id: label
            text: "Error:"
            adaptive_size: True
            #color: app.THEME_txt
            pos: "12dp", "12dp"
            bold: True


<PickItem>
    #container: container

    BoxLayout:
        orientation: "vertical"
        spacing: "12dp"
        size_hint_y: None
        #MDScrollView:
            #MDList:
                #id: container

# deprecated ??
<ExpandContent>
    #id: root.item_id
    adaptive_height: True

    TwoLineIconListItem:
        text: root.text_label
        secondary_text: root.text2_label

    IconLeftWidget:
        icon: root.icon_label

